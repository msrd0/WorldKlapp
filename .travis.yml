language: c++
compiler:
  - gcc
  - clang

env:
  global:
    - secure: mjPtIQ53KNrMhuuqN+y9Go+TqIineA2xE54ZMfjb5k2NGMuv+NZoV7aFAsXBnrcdOfQDhfF9c3WOT/YtlnNtn5sOQR1Pr2LyVjoG8t6Hr+ONU4LGzB4cIdsJu3gvh0tAXN6ePIWJs9kf5KAwe+B7BPlZRfn3f0fDSijq7NXFO71/UDSn/lvnYyLw3HjGXvLGOjT9WEl4+Mf6gstQYvdLJVP65imxPtq5Kn0TyloUe64PUX9NyQqFwrTQdBWq60k1CaTLEHDM9jKXar8hw8sSemqIZKb2qmIjiFAULJV/PvqQLjv7AjPXzH3LicuN/cte7JFRd8A77u4KOleYZc1IPUseVqm+/g/p1v4a4cZ5sAQQrLpDonw1q98E1uxy+BbPoFSU2Gn34ZSK7zxP7oppK5SadeFUAipragqb0nHIEMyUJmX8I1BZpqGmZY7Ul/PiWPc/w2ottdBCP2ZTAsq71rsm9JX37VewNd+duC+704hplQIlsITv/odCmHMF74xKTqCRgPPv4Yo8d9kSMKo9zCYcE3dHUsnsrHN7f/PPPgosFiWIVG/FX2JCmZlqdn7Lxmhy6//KSWxxXSBOjBAc70MlJMS1PGJfom+okMUWHhGRP+YUdyHoO+XNub/mQo7RfKgNur7MBte6lCvKGc7kFHM/qloDrxZwE5TnxwoBKXI=
    - secure: LecJE4UHtXqjDYPr4HG5uTpqiYS9oiYTZhrBpol7UAvQN/UD5aypsPhKWft3WfXt+MGvI6hp+4Si/nqGLqEaF5D/WqZsmUUyINdGmg6zMWKwwx9zVFiJ+TqPyPzzHtx46xwcS9j/j/kAbvnRyOHQqXxXEfz10yl8wHXIMnpfI7RfO2UnfuOLpU8HUU9p/nAH6NNclY2WZAwqaAA1ZOPXfTCWaBSSYxhoP80emD564HqwNHfltcPRWmP7EdQIPrFbho22a7q3TRtDUy6uK4K4z3tAsQgPKnwkcnngb0FKegSOxVn3/U3AEadlLRU90pgy+nJJhz4jBSvi4VvFPbB7SWnHiDl4Mk0Qnirzipcc7LKzNO8PI23C5zN+j501Suz9ZdbiK97hu8Hr1meUluo5s+aVBVxIZOlASFQIPTjiquGrN9n4qchcyjJjN8pLF019XP24XTvQjKgGI5wF+cza/SvdcqzPOftBI5Q9imvk6kg/zC7u4fDyNGicD5D+5kxdeIC7kVhFf2NyjAF5Msq+rdRk3xpvAWBuqlaw0DiqCcassJLPwwvEPayZWCTV05wnBHxM6HFV9vr2UhZbR3NudHkfnOk7DDezOLQBkOa+6axMNT5tlGzm21d8MAXtbAj19MxtXlyrtTovO4N4Ylc1sXZvaZfgHTo7l1WhNjM+9lY=
    - secure: cn48/ylxWksfkSEYViapVf7rCHDfG+xg3Gyz56gwJrZfI3ue3AlFc+6L4VeG/FvtTHX5m8K4TquN3PLTGnsRh9Z/5tZySgomzlko/iXUre7sJ2oup7jB8a1NsNC+hWTQKEyLxgOCS+6nSInXjxuQFCSH4TSny+MnwI1e7VFQfJWC7pZJYcx9HRMqptbFJb8KOVmAt5I0u2L5eQsW2WlZuN4DjFF3ZdNOf96mJ7tdurRYSYj95kq77KfIlUiHmoSPyeMgQan82VHsVdXbGneU2sDwlak77oKNpIsd8koXKfXL1QUfwfLNYewLWwXqh5qhODopouGEDBd3MgajVC3V+QEuWkrkeEG5RJRnr7gM+Enm5dBt8NCOwM1eKLLR0Mh6oG9jAR0gegmhnzbaH3FjOOMPondNH1LqFE2nwmYt9oYTMCkBRbWd+xebpkjzroXIpSJRs910ZzfpKsdQkLIwS7Yu2TLiCYvNA5PbNBh9iyI5t0UZtbypTTEY+nIZ9CuqmW8yGdPhOACQdjOSmFz7QGwqctXALycnRHpYD0BxtSa5meZ4Wdd/oqxvCbVWfOu0D/VUR1w7doOJhdby9hfA8HaOKW4fV/tgCYLyQ09u/OVDMb7F7XMBqOJGcUQUcFZ0QnR3Ams0jg4WV4cmYzpwvva8a/BHEbydyPcRhiih0Zo=
    - secure: ESMSGtE22D/tjiHApl+vPw7AAXt8GkYb9WdsmFZGEbQ3LYq3sXI98oM84LVVag5A7zdO5N8YwnVgiEcSrUWytf2V79lNSLmhjnLWo/f6kjmxdR2ofi/JNDWQcofq0BaxZ/SwFjLsTP99B12j4kozExJZ8fBAYm2nLXb+zhn3lof5XBFnOE35EovbRL+nspCUnXSGrHtR8dMC+sIQMGbWnNGUOj3wvkEUNeOg1fGcTb/jNJjz1So5RFyAzrUBZslShGEroci3PpZNZidoi8Y+LikhOzoW7IE4o6JwWAaq1pTDAYtSBqYDskOn+OzN4O/EVe8We2eviJyXUhVYFNoZ7rYKy4AkLSkVKPDc9UmdFjCtywJ9YHLiCgv7IUcO1Fi4s97EpZbBYfP1DvLC6mqNiYd0Psx8Ck7Uc6JlSP7Ws8UyHSh7L0kZtYMw6Qr1y06wEPnbnJ8Dea0GuTG9/9TcW8eULwbnNuRbR2ZrwSo8x8NRYH/NEMTi1l9Wc8Kv4yvCONtAXMmrdaSZJcH8AuX8ave/lkIjvqn9uHkapauqCd/ZTTUxw2h004xfzZfNjSlZN6bVskpdEfxcqK1snFXrWWLhT3xJ42uDu+FIcBs9qWjTB5bRDIOcK0/7rF9BlDMGeBaJKPv1fo2FEkO3wDKqw/qejdJbBnwWZr2TEac5qsU=
    - secure: L+KWhdSTYl71OmkWrxFGd+bUv5wQY5/ORU/Quv+jq6kRat5XubZAa53RkfssOJVqmDI4Rv12CDtyspto/2uUb3xvHrtVnPLnnHWrPtoAEla4IgXPKJuJtlIdKzUIItxf6xwcnagRT4HTdH96Uu+uChvbIUKSdQAISe4gjZbC44Q9e1tzeAkJahB/LlVTkmjLfZA5+PSqYMnWaN6QoDYmLZeW5eLdnYjsH0hPDtur7kqVzFxxCkAbl86th27HqXg4BEpqthvBxoGEN0VKEm6rerXdef1kpu1UgjPkNbApl6Fo1glKtsBCrxtK++OVhQtR1UZY5PaltOnHSt/iMp1EB8c+XGb/CJT+DMt4FchBVUFAW+j1BlfCFsLEdyUGWxA1J5yNSglmSm0nE8b96lftB/grezGpdgA5F9UDSJ8685gNLPHEs1oDWFc1LXG3Q3Hndov6Cuf9SwYMRIHZgnXNnBo3P0tMorMGLA9uGexTBHLfMsoiZa5UEA+yON4R3XqKkGMgNSfKJHnruQkbVJUceAhXxUgUzKbG4b/uvcG7U0QlTnhzXZyx08YEZzpN0EcnkGzXQlTixurFaaukUIt1EBggg37++1sHeFs54eZ7IM6JePXUQ9KUDR4znmiR+iwWhMknISzxWHZM6HuAsdYMEkCmQd1S8mFPDO93vGBJSlw=
    - secure: C2OAq5sdtM1UWDJ6clEQCNQWK+m6gM9yBKOMknLyKpFUjM66R0J77/JuSKOt4jQ5NsCQx/7dskIMYmaQnF/NBQNuLLNjBEc6NnNzmy83szA/WRcN7CwbS+UsKjXfk2I/PQtzQoOLaomHqNhRzmvWNJBRdIZyDAIsG2+eNOFLU2eZVnmyQTv/ApDkZ0gMV2/EqAqY9JWuT5M76L4VNHkr8kht1bBfAQ2BCUkSkNnPPTvBy82jECXUk0S9rjWxet4aNu4GF+ManSofLEtQBC6tTTy4hGkuIsWvIGzlYsGBFJX3jeX9YAR4gBvEshM2yzws4rJZ3TiW69Bc2FFKJuhNmBcayxjAlGdZpDBklncqFDxyTNRMiFVlElfD7rvBjrbVZ1NX+QpY4i5FGcCxftgW7Dktw+3TeuUqRJ0tpUshTi+OqDcjf9KytAkBzzofeSTgqsPxodiFnsIfPQ7Sz56iMGlnx8fvZb571gEYAvQAbYzyl0+EMP5Kzlg2fLsb486YFPlgo4os8HWPc8wElPOvdFCSpQUqLIDEYnj3aHhAamMK7d4cspEcO30w5rVOSprqZATgJ1vI95W2pXDG2niF5UMBz6QYCHAMWblTcFyk7zyJT0A3OdLEEvntLWdl8iSw/6CjfJdUl93/c9iKUR+KPR2h+hedUmk6oB6xbeIQ/AU=

sudo: required
dist: trusty
addons:
  apt:
    packages:
      - qt5-default
      - yui-compressor

install:
  - sudo apt-get update -qq
  - sudo apt-get install -y npm
  - sudo npm install -g svgo

before_script:
  - git config --global user.email "msrd0@users.noreply.github.com"
  - git config --global user.name "Dominic (via Travis)"
  - git config --global push.default simple
  - git config credential.helper "store --file=.git/credentials"
  - echo "https://${GH_TOKEN}:@github.com" >.git/credentials

script:
  - "./.travis-minify.sh"
  - cmake -DUSE_HTTP_PREFIX=/msrd0/WorldKlapp/master/httpd/share/ .
  - make -j2
  - "./.travis-preview.sh"
