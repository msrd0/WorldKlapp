var teamnames={};var teamids={};var teams=0;function receiveTeams(){$.getJSON("api/teams.json",function(h){var c=$("#teamcontainer");c.html("");for(var k=0;k<h.length;k++){teamnames[k]=h[k].name;teamids[k]=h[k].nr;teams++;var m='<div class="team" id="team'+h[k].nr+'">';m+='<div class="first">';m+='<div><span class="rank"><i class="cubes icon"></i>&nbsp;'+h[k].rank+"</span></div>";m+='<div><span class="laps">'+h[k].laps+"</span></div>";m+="</div>";m+='<div class="second">';m+='<div class="titleline">';m+="<li>";m+='<span class="title">'+h[k].name+"</span>";m+='<span class="num titlenum">'+h[k].nr+"</span>";m+="</li>";m+='<div><span class="speed">&Oslash;&nbsp;'+h[k].avg.toFixed(2)+"&nbsp;<sup>km</sup>/<sub>h</sub></span></div>";m+="</div>";for(var g=0;g<h[k].drivers.length;g++){if(h[k].drivers[g].name=="dummy"){continue}m+='<li id="team'+h[k].nr+"driver"+h[k].drivers[g].nr+'" class="curr '+((h[k].drivers[g].nr==h[k].currdriver)?(h[k].drivers[g].last<h[k].avg?"slow":"quick"):"")+'">';m+='<span class="driver">'+h[k].drivers[g].name+"</span>";m+='<span class="driverlaps">'+h[k].drivers[g].laps+"</span>";m+='<div class="spacer"></div>';if(h[k].drivers[g].nr==h[k].currdriver){m+='<div class="speedcontainer"><span class="driverspeed">'+h[k].drivers[g].last.toFixed(2)+"&nbsp;<sup>km</sup>/<sub>h</sub></span></div>"}else{m+='<div class="speedcontainer"><span class="driverspeed">&Oslash;&nbsp;'+h[k].drivers[g].avg.toFixed(2)+"&nbsp;<sup>km</sup>/<sub>h</sub></span></div>"}m+="</li>"}m+="</div>";m+="</div>";c.append(m)}var b=$("#statuscontainer");b.html("");var n,l=0;var e,a=0;var o,d=0;var f=0;for(var k=0;k<h.length;k++){f+=h[k].laps;for(var g=0;g<h[k].drivers.length;g++){if(h[k].drivers[g].laps>l){l=h[k].drivers[g].laps;n=h[k].drivers[g].name}if(h[k].drivers[g].best>a){a=h[k].drivers[g].best;e=h[k].drivers[g].name}if(h[k].drivers[g].avg>d){d=h[k].drivers[g].avg;o=h[k].drivers[g].name}}}b.append("<div><b>Meiste Runden:</b> <i>"+l+"</i> von <i>"+n+"</i></div>");b.append("<div><b>Schnellste Runde:</b> <i>"+a+"</i> von <i>"+e+"</i></div>");b.append("<div><b>HÃ¶chster Durchschnitt:</b> <i>"+d.toFixed(2)+"</i> von <i>"+o+"</i></div>");b.append("<div><b>Insgesamt:</b> <i>"+f+"</i> Runden (<i>"+(0.45*f).toFixed(2)+"</i> km)</div>")})}$(document).ready(receiveTeams);