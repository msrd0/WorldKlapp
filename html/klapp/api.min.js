var teamnames={};var teamids={};var teams=0;function receiveTeams(){$.getJSON("api/teams.json",function(e){var b=$("#teamcontainer");b.html("");for(var d=0;d<e.length;d++){teamnames[d]=e[d].name;teamids[d]=e[d].nr;teams++;var c='<div class="team" id="team'+e[d].nr+'">';c+='<div class="first">';c+='<div><span class="rank"><i class="cubes icon"></i>'+e[d].rank+"</span></div>";c+='<div><span class="laps">'+e[d].laps+"</span></div>";c+="</div>";c+='<div class="second">';c+="<div>";c+='<span class="title">'+e[d].name+"</span>";c+='<span class="num titlenum">'+e[d].nr+"</span>";c+="</div>";for(var a=0;a<e[d].drivers.length;a++){c+='<li id="team'+e[d].nr+"driver"+e[d].drivers[a].nr+'" class="'+(e[d].drivers[a].nr==e[d].currdriver?"curr":"")+'">';c+='<span class="driver">'+e[d].drivers[a].name+"</span>";c+='<span class="num drivernum">'+e[d].drivers[a].nr+"</span>";c+="</li>"}c+="</div>";c+='<div class="third">';c+='<div><span class="speed">'+e[d].avg.toFixed(2)+"&nbsp;<sup>km</sup>/<sub>h</sub></span></div>";c+="</div>";c+="</div>";b.append(c)}})}$(document).ready(receiveTeams);function searchTeams(b){b=b.toLowerCase();console.log('search "'+b+'" in '+teams+" teams");for(var a=0;a<teams;a++){console.log(teamids[a]+"\t"+teamnames[a]);if(teamnames[a].toLowerCase().indexOf(b)>-1){$("#team"+teamids[a]).css("display","")}else{$("#team"+teamids[a]).css("display","none")}}}$(document).ready(function(){$("#search").on("input",function(){searchTeams($("#search").val())})});